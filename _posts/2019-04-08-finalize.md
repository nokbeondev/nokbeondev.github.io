---
layout: post
title: "[Java] finalize()와 가비지 콜렉터"
v

### 1. 그림을 통한 개념 이해
아래와 같이 현재 '참조-참조-참조-참조'로 모든 클래스가 연결된 상태라고 가정한다. 여기에 `a = null;`을 넣으면 A, B, C, D는 필요없는 쓰레기 클래스가 된다. 이 때 가비지 콜렉터가 하는 일과 `finalize()` 메소드의 역할은 이렇다.

![그림을통한이해](http://nokbeondev.github.io/img/finalize.JPG)

- 쓰레기 클래스가 되면 JVM에 의해 가비지 콜렉팅의 대상이 된다.
- 그러나 JVM은 하는 일이 엄청나게 많다.
- 그 중에도 **가비지 콜렉팅은 우선순위가 가장 낮다.**
- 따라서 다른 일을 하느라 **아주 드물게** 쓰레기 클래스 수집을 못 하는 경우가 있다.**(일반적으로 거의 수집한다.)**
- 이런 경우 `finalize()`를 이용해 쓰레기 처리한다.
- A, B, C 클래스에 연결을 끊어주는 `finalize()` 메소드를 선언하면 쓰레기 처리된다.
- 그러나 **굳이 안 쓰는 것이 낫다**

